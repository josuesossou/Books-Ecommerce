<div class="container pt-5">
  <!--  Spinner/loader -->
  <div class="containe mx-auto" *ngIf="!book">
    <div class="dot-container">
        <div class="dot"></div>
        <div class="dot"></div>
        <div class="dot"></div>  
    </div>
    <div class="dot-container">
        <div class="dot"></div>
        <div class="dot"></div>
        <div class="dot"></div>  
    </div>
    <div class="dot-container">
        <div class="dot"></div>
        <div class="dot"></div>
        <div class="dot"></div>  
    </div>
  </div>
 
  <div class="card-row row p-3 ml-0 mt-2" *ngIf="book">
    <div class="card-img mx-auto mr-md-auto mt-0 mb-3 pt-0 col-9 col-md-4 d-block" appImgHeight [style.backgroundImage]="book.image"></div>
    <div class="card-body ml-3 pt-0 col-12 col-md-7 ml-md-auto d-inline-block">
      <p class="card-title m-0 p-0"><strong>Title: </strong> {{book.title_long}}</p>
      <p class="card-text p-0 m-0 mt-2"><strong>Isbn: </strong>{{book.isbn}}</p>
      <p class="card-text p-0 m-0 mt-2"><strong>Authors: </strong>{{book.authors[0]}}</p>
      <p class="card-text p-0 m-0 mt-2"><strong>Published Date: </strong>{{book.date_published}}</p>
      <p class="card-text p-0 m-0 mt-2"><strong>Buyer: </strong>{{book.buyerName}}</p>
      <h5 class="card-text p-0 m-0 mt-2"><strong>Price: </strong>{{book.price | currency: 0}} <button class="btn btn-danger btn-sm ml-3" disabled>Sold</button></h5>
    </div>
  </div>

  <div *ngIf="address" class="mt-3">
    <h4>Buyer Address</h4>
    <p>Send the book to this address</p>
    <small><strong>Buyer Name:</strong> {{address.fullname}}</small><br>
    <small><strong>Address:</strong></small>
    <small>{{address.addLine1}} {{address.addLine2}}</small><br>
    <small style="margin-left: 4rem">{{address.city}}, {{address.state}} {{address.zip}}, {{address.country}}</small>
  </div>

  <div class="mt-3 mb-5">
    <h4>Tracking Code</h4>
    <p>Complete transaction by submitting the tracking code.</p>
    <div>
      <label for="code">Tracking Code</label>
      <input 
        class="form-control"
        id="code"
        type="text"
        [(ngModel)]="code"
        #codeField="ngModel"
        [ngClass]="{'is-invalid':codeField.errors?.required && codeField.touched}"
        required
      />
    </div>
    <div class="mt-1 mb-4">
      <label for="carrier">Choose Carrier</label>
      <select 
        id="carrier" 
        class="form-control"
        [(ngModel)]="carrier"
        #carrierField="ngModel"
        [ngClass]="{'is-invalid':carrierField.errors?.required && carrierField.touched}"
        required
      >
        <option></option>
        <option value="USPS">USPS</option>
        <option value="UPS">UPS</option>
        <option value="Fedex">FedEx</option>
        <option value="DHL Express"> DHL Express</option>
      </select>
    </div>
    <button class="btn btn-primary btn-md" (click)="onsubmit()">Submit Tracking Code</button>
  </div>
</div>